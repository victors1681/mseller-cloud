(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[781],{61634:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/collections/list",function(){return l(47034)}])},60155:function(e,t,l){"use strict";var n=l(85893),r=l(67294),s=l(69661),i=l(2734),a=l(41796),o=l(50591);let c=(0,r.forwardRef)((e,t)=>{let{sx:l,src:r,skin:c,color:d}=e,u=(0,i.Z)(),h=(0,o.Z)(),x=(e,t)=>"light"===e?{...h["".concat(t,"Light")]}:"light-static"===e?{color:h["".concat(t,"Light")].color,backgroundColor:(0,a.$n)(u.palette[t].main,.88)}:{...h["".concat(t,"Filled")]},m={primary:x(c,"primary"),secondary:x(c,"secondary"),success:x(c,"success"),error:x(c,"error"),warning:x(c,"warning"),info:x(c,"info")};return(0,n.jsx)(s.Z,{ref:t,...e,sx:!r&&c&&d?Object.assign(m[d],l):l})});c.defaultProps={skin:"filled",color:"primary"},t.Z=c},50613:function(e,t,l){"use strict";var n=l(85893),r=l(87918),s=l(86010),i=l(50591);let a=e=>{let{sx:t,skin:l,color:a,rounded:o}=e,c=(0,i.Z)(),d={primary:{...c.primaryLight},secondary:{...c.secondaryLight},success:{...c.successLight},error:{...c.errorLight},warning:{...c.warningLight},info:{...c.infoLight}},u={...e};return u.rounded=void 0,(0,n.jsx)(r.Z,{...u,variant:"filled",className:(0,s.Z)({"MuiChip-rounded":o,"MuiChip-light":"light"===l}),sx:"light"===l&&a?Object.assign(d[a],t):t})};t.Z=a},47034:function(e,t,l){"use strict";l.r(t);var n=l(85893),r=l(67294),s=l(41664),i=l.n(s),a=l(87357),o=l(86886),c=l(66242),d=l(34386),u=l(90948),h=l(18972),x=l(50135),m=l(78445),p=l(93946),f=l(33841),g=l(15861),Z=l(94054),j=l(44267),v=l(18360),b=l(54028),y=l(60155),C=l(63730),w=l(42298),W=l(9198),I=l.n(W),S=l(9473),D=l(15775),E=l(50613),P=l(29565),N=l(82229),k=l(87819),L=l(31704),_=l(69702),R=l(34666),F=l(57144);let O=(0,u.ZP)(i())(e=>{let{theme:t}=e;return{textDecoration:"none",color:t.palette.primary.main}}),M=e=>{if(e.avatarUrl)return(0,n.jsx)(y.Z,{src:e.avatarUrl,sx:{mr:3,width:"1.875rem",height:"1.875rem"}})},z=[{flex:.15,field:"id",minWidth:110,headerName:"#",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(O,{href:"/apps/collections/receipt/".concat(t.noDepositoStr),children:"".concat(t.noDepositoStr)})}},{flex:.1,minWidth:90,field:"documents",headerName:"Recibos",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(g.Z,{variant:"body2",children:"".concat(t.cantidadRecibos)})}},{flex:.25,field:"seller",minWidth:250,headerName:"Vendedor",renderCell:e=>{let{row:t}=e;return(0,n.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[M(t),(0,n.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,n.jsx)(g.Z,{noWrap:!0,variant:"body2",sx:{color:"text.primary",fontWeight:600},children:t.vendedor.nombre}),(0,n.jsx)(g.Z,{noWrap:!0,variant:"caption",children:t.vendedor.codigo})]})]})}},{flex:.15,field:"location",minWidth:100,headerName:"Cobrado",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(a.Z,{sx:{display:"flex",alignItems:"center"},children:(0,n.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column"},children:(0,n.jsx)(g.Z,{noWrap:!0,variant:"body2",sx:{color:"text.primary",textTransform:"capitalize"},children:(0,L.Z)(t.totalCobrado)})})})}},{flex:.18,minWidth:150,field:"date",headerName:"Fecha",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(g.Z,{variant:"body2",children:(0,k.Z)(t.fecha)})}},{flex:.1,minWidth:120,field:"status",headerName:"Status",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(E.Z,{skin:"light",size:"small",label:R.m[null==t?void 0:t.procesado]||"",color:R.J[t.procesado],sx:{textTransform:"capitalize"}})}}],T=(0,r.forwardRef)((e,t)=>{let l=null!==e.start?(0,w.default)(e.start,"MM/dd/yyyy"):"",r=null!==e.end?" - ".concat((0,w.default)(e.end,"MM/dd/yyyy")):null,s="".concat(l).concat(null!==r?r:"");null===e.start&&e.dates.length&&e.setDates&&e.setDates([]);let i={...e};return delete i.setDates,(0,n.jsx)(x.Z,{fullWidth:!0,inputRef:t,...i,label:e.label||"",value:s})}),q=()=>{let[e,t]=(0,r.useState)([]),[l,s]=(0,r.useState)(""),[u,g]=(0,r.useState)(""),[y,w]=(0,r.useState)(null),[W,E]=(0,r.useState)([]),[k,L]=(0,r.useState)(null),[O,M]=(0,r.useState)({page:0,pageSize:20}),q=(0,S.I0)(),U=(0,S.v9)(e=>e.collections);console.log("storestorestore",U),(0,r.useEffect)(()=>{q((0,D.rQ)({dates:e,query:l,status:u,pageNumber:O.page}))},[u]);let Q=(0,r.useCallback)(t=>{q((0,D.rQ)({dates:e,query:t,status:u,pageNumber:O.page}))},[q,u,l,e,O]),V=(0,r.useCallback)((0,F.Z)(e=>{M({page:0,pageSize:20}),Q(e)},900),[]),J=e=>{g(e.target.value)},X=(0,r.useCallback)(e=>{V.clear(),s(e),V(e)},[V]),A=(0,r.useCallback)(t=>{M(t),q((0,D.rQ)({dates:e,query:l,status:u,pageNumber:t.page}))},[O,l,u]),H=e=>{let[l,n]=e;null!==l&&null!==n&&t(e),L(l),w(n)},K=[...z,{flex:.1,minWidth:130,sortable:!1,field:"actions",headerName:"Actions",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(a.Z,{sx:{display:"flex",alignItems:"center"},children:(0,n.jsx)(d.Z,{title:"View",children:(0,n.jsx)(p.Z,{size:"small",component:i(),href:"/apps/collections/receipt/".concat(t.noDepositoStr),children:(0,n.jsx)(C.Z,{icon:"mdi:eye-outline",fontSize:20})})})})}}];return(0,n.jsx)(N.Z,{children:(0,n.jsxs)(o.ZP,{container:!0,spacing:6,children:[(0,n.jsx)(o.ZP,{item:!0,xs:12,children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(m.Z,{title:"Filters"}),(0,n.jsx)(j.Z,{children:(0,n.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,n.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,n.jsxs)(Z.Z,{fullWidth:!0,children:[(0,n.jsx)(f.Z,{id:"invoice-status-select",children:"Estado de la orden"}),(0,n.jsxs)(v.Z,{fullWidth:!0,value:u,sx:{mr:4,mb:2},label:"Estado de la orden",onChange:J,labelId:"invoice-status-select",children:[(0,n.jsx)(h.Z,{value:"",children:"none"}),Object.keys(R.m).map(e=>(0,n.jsx)(h.Z,{value:e,children:R.m[e]}))]})]})}),(0,n.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,n.jsxs)(Z.Z,{fullWidth:!0,children:[(0,n.jsx)(f.Z,{id:"invoice-status-select",children:"Condici\xf3n de Pago"}),(0,n.jsxs)(v.Z,{fullWidth:!0,value:u,sx:{mr:4,mb:2},label:"Estado de la orden",onChange:J,labelId:"invoice-status-select",children:[(0,n.jsx)(h.Z,{value:"",children:"none"}),Object.keys(R.m).map(e=>(0,n.jsx)(h.Z,{value:e,children:R.m[e]}))]})]})}),(0,n.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,n.jsxs)(Z.Z,{fullWidth:!0,children:[(0,n.jsx)(f.Z,{id:"invoice-status-select",children:"Localidad"}),(0,n.jsxs)(v.Z,{fullWidth:!0,value:u,sx:{mr:4,mb:2},label:"Estado de la orden",onChange:J,labelId:"invoice-status-select",children:[(0,n.jsx)(h.Z,{value:"",children:"none"}),Object.keys(R.m).map(e=>(0,n.jsx)(h.Z,{value:e,children:R.m[e]}))]})]})}),(0,n.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,n.jsxs)(Z.Z,{fullWidth:!0,children:[(0,n.jsx)(f.Z,{id:"invoice-status-select",children:"Tipo Documento"}),(0,n.jsxs)(v.Z,{fullWidth:!0,value:u,sx:{mr:4,mb:2},label:"Estado de la orden",onChange:J,labelId:"invoice-status-select",children:[(0,n.jsx)(h.Z,{value:"",children:"none"}),(0,n.jsx)(h.Z,{value:"2",children:"Pedido"}),(0,n.jsx)(h.Z,{value:"2",children:"Cotizaci\xf3n"})]})]})}),(0,n.jsx)(o.ZP,{xs:12,sm:4,children:(0,n.jsx)(_.Z,{multiple:!0,options:[{title:"test"}],filterSelectedOptions:!0,defaultValue:[{title:"test"}],id:"autocomplete-multiple-outlined",getOptionLabel:e=>e.title||"",sx:{mt:3,ml:3},renderInput:e=>(0,n.jsx)(x.Z,{...e,label:"Distribuidores",placeholder:"Distribuidores"})})}),(0,n.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,n.jsx)(I(),{isClearable:!0,selectsRange:!0,monthsShown:2,endDate:y,selected:k,startDate:k,shouldCloseOnSelect:!1,id:"date-range-picker-months",onChange:H,customInput:(0,n.jsx)(T,{dates:e,setDates:t,label:"Fecha",end:y,start:k})})})]})})]})}),(0,n.jsx)(o.ZP,{item:!0,xs:12,children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(P.Z,{value:l,selectedRows:W,handleFilter:X,placeholder:"No.Deposito"}),(0,n.jsx)(b._,{autoHeight:!0,pagination:!0,rows:U.collectionsData,columns:K,disableRowSelectionOnClick:!0,paginationModel:O,onPaginationModelChange:A,onRowSelectionModelChange:e=>E(e),getRowId:e=>e.noDepositoStr,paginationMode:"server",loading:U.isLoading,rowCount:U.totalResults})]})})]})})};t.default=q},4988:function(e,t,l){"use strict";var n,r,s,i;l.d(t,{F:function(){return n},W:function(){return r}}),(s=n||(n={}))[s.pendiente=0]="pendiente",s[s.procesado=1]="procesado",s[s.errorIntegracion=8]="errorIntegracion",s[s.listoIntegrar=9]="listoIntegrar",s[s.enviadoErp=10]="enviadoErp",(i=r||(r={})).Cheque="CK",i.Efectivo="E",i.Transferencia="T"},34666:function(e,t,l){"use strict";l.d(t,{J:function(){return s},m:function(){return r}});var n=l(4988);let r={[n.F.pendiente]:"Pendiente",[n.F.errorIntegracion]:"Error Integracion",[n.F.listoIntegrar]:"Listo Integrar",[n.F.enviadoErp]:"Enviado ERP"},s={0:"warning",1:"success",8:"error",9:"info",10:"success"}},31704:function(e,t,l){"use strict";let n=e=>{let t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return t};t.Z=n},87819:function(e,t,l){"use strict";var n=l(30381),r=l.n(n);let s=e=>{let t=navigator.language||navigator.userLanguage;r().locale(t);let l=r()(e).format("lll");return l};t.Z=s},29565:function(e,t,l){"use strict";var n=l(85893),r=l(87357),s=l(50135);let i=e=>{let{value:t,selectedRows:l,handleFilter:i}=e;return(0,n.jsxs)(r.Z,{sx:{p:5,pb:3,width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsx)("div",{}),(0,n.jsx)(r.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:(0,n.jsx)(s.Z,{size:"small",value:t,sx:{mr:4,mb:2},placeholder:e.placeholder,onChange:e=>i(e.target.value)})})]})};t.Z=i}},function(e){e.O(0,[885,135,657,519,863,329,506,774,888,179],function(){return e(e.s=61634)}),_N_E=e.O()}]);