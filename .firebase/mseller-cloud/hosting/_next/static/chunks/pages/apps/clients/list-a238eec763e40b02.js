(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[272],{44267:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(87462),i=r(63366),a=r(67294),l=r(86010),o=r(94780),s=r(90948),c=r(71657),d=r(1588),u=r(34867);function x(e){return(0,u.Z)("MuiCardContent",e)}(0,d.Z)("MuiCardContent",["root"]);var h=r(85893);let p=["className","component"],m=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"]},x,t)},f=(0,s.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Z=a.forwardRef(function(e,t){let r=(0,c.Z)({props:e,name:"MuiCardContent"}),{className:a,component:o="div"}=r,s=(0,i.Z)(r,p),d=(0,n.Z)({},r,{component:o}),u=m(d);return(0,h.jsx)(f,(0,n.Z)({as:o,className:(0,l.Z)(u.root,a),ownerState:d,ref:t},s))});var v=Z},78445:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(63366),i=r(87462),a=r(67294),l=r(86010),o=r(94780),s=r(15861),c=r(71657),d=r(90948),u=r(1588),x=r(34867);function h(e){return(0,x.Z)("MuiCardHeader",e)}let p=(0,u.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var m=r(85893);let f=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],Z=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},h,t)},v=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,i.Z)({[`& .${p.title}`]:t.title,[`& .${p.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),j=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),g=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),b=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),C=a.forwardRef(function(e,t){let r=(0,c.Z)({props:e,name:"MuiCardHeader"}),{action:a,avatar:o,className:d,component:u="div",disableTypography:x=!1,subheader:h,subheaderTypographyProps:p,title:C,titleTypographyProps:y}=r,N=(0,n.Z)(r,f),w=(0,i.Z)({},r,{component:u,disableTypography:x}),P=Z(w),S=C;null==S||S.type===s.Z||x||(S=(0,m.jsx)(s.Z,(0,i.Z)({variant:o?"body2":"h5",className:P.title,component:"span",display:"block"},y,{children:S})));let k=h;return null==k||k.type===s.Z||x||(k=(0,m.jsx)(s.Z,(0,i.Z)({variant:o?"body2":"body1",className:P.subheader,color:"text.secondary",component:"span",display:"block"},p,{children:k}))),(0,m.jsxs)(v,(0,i.Z)({className:(0,l.Z)(P.root,d),as:u,ref:t,ownerState:w},N,{children:[o&&(0,m.jsx)(j,{className:P.avatar,ownerState:w,children:o}),(0,m.jsxs)(b,{className:P.content,ownerState:w,children:[S,k]}),a&&(0,m.jsx)(g,{className:P.action,ownerState:w,children:a})]}))});var y=C},96361:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/clients/list",function(){return r(3804)}])},81010:function(e,t,r){"use strict";var n=r(85893),i=r(67294),a=r(41664),l=r.n(a),o=r(87357),s=r(38333),c=r(67720),d=r(18972),u=r(93946),x=r(63730),h=r(23918);let p=e=>{let{children:t,option:r}=e;return r.href?(0,n.jsx)(o.Z,{component:l(),href:r.href,...r.linkProps,sx:{px:4,py:1.5,width:"100%",display:"flex",color:"inherit",alignItems:"center",textDecoration:"none"},children:t}):(0,n.jsx)(n.Fragment,{children:t})},m=e=>{let{icon:t,options:r,menuProps:a,iconProps:l,leftAlignMenu:o,iconButtonProps:m}=e,[f,Z]=(0,i.useState)(null),{settings:v}=(0,h.r)(),{direction:j}=v,g=e=>{Z(e.currentTarget)},b=()=>{Z(null)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{"aria-haspopup":"true",onClick:g,...m,children:t||(0,n.jsx)(x.Z,{icon:"mdi:dots-vertical",...l})}),(0,n.jsx)(s.Z,{keepMounted:!0,anchorEl:f,onClose:b,open:!!f,...!o&&{anchorOrigin:{vertical:"bottom",horizontal:"ltr"===j?"right":"left"},transformOrigin:{vertical:"top",horizontal:"ltr"===j?"right":"left"}},...a,children:r.map((e,t)=>"string"==typeof e?(0,n.jsx)(d.Z,{onClick:b,children:e},t):"divider"in e?e.divider&&(0,n.jsx)(c.Z,{...e.dividerProps},t):(0,n.jsx)(d.Z,{...e.menuItemProps,...e.href&&{sx:{p:0}},onClick:t=>{b(),e.menuItemProps&&e.menuItemProps.onClick&&e.menuItemProps.onClick(t)},children:(0,n.jsxs)(p,{option:e,children:[e.icon?e.icon:null,e.text]})},t))})]})};t.Z=m},3804:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return _}});var n=r(85893),i=r(67294),a=r(41664),l=r.n(a),o=r(87357),s=r(86886),c=r(66242),d=r(34386),u=r(90948),x=r(18972),h=r(78445),p=r(93946),m=r(33841),f=r(15861),Z=r(94054),v=r(44267),j=r(18360),g=r(54028),b=r(57144),C=r(63730),y=r(9473),N=r(10021),w=r(81010),P=r(83321),S=r(50135);let k=e=>{let{value:t,selectedRows:r,handleFilter:i}=e;return(0,n.jsxs)(o.Z,{sx:{p:5,pb:3,width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsx)("div",{}),(0,n.jsxs)(o.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:[(0,n.jsx)(S.Z,{size:"small",value:t,sx:{mr:4,mb:2},placeholder:e.placeholder,onChange:e=>i(e.target.value)}),(0,n.jsx)(P.Z,{sx:{mb:2},component:l(),variant:"contained",href:"/apps/invoice/add",disabled:!0,children:"Crear Cliente"})]})]})};var W=r(82229),I=r(31704);let R=(0,u.ZP)(l())(e=>{let{theme:t}=e;return{textDecoration:"none",color:t.palette.primary.main}}),M=[{flex:.1,field:"id",minWidth:80,headerName:"C\xf3digo",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(R,{href:"/apps/invoice/preview/".concat(t.codigo),children:"".concat(t.codigo)})}},{flex:.35,field:"client",minWidth:300,headerName:"Nombre/Dir",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(o.Z,{sx:{display:"flex",alignItems:"center"},children:(0,n.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,n.jsx)(f.Z,{noWrap:!0,variant:"body2",sx:{color:"text.primary",fontWeight:600,textTransform:"capitalize"},children:t.nombre}),(0,n.jsxs)(f.Z,{noWrap:!0,variant:"caption",children:[t.direccion," - ",t.ciudad]})]})})}},{flex:.2,field:"seller",minWidth:200,headerName:"Vendedor",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(o.Z,{sx:{display:"flex",alignItems:"center"},children:(0,n.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,n.jsx)(f.Z,{noWrap:!0,variant:"body2",sx:{color:"text.primary",fontWeight:600},children:t.vendedor.nombre}),(0,n.jsx)(f.Z,{noWrap:!0,variant:"caption",children:t.vendedor.codigo})]})})}},{flex:.15,minWidth:130,field:"rnc",headerName:"RNC",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(f.Z,{variant:"body2",children:t.rnc})}},{flex:.1,minWidth:90,field:"total",headerName:"Tipo",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(f.Z,{variant:"body2",children:t.tipoCliente})}},{flex:.1,minWidth:120,field:"balance",headerName:"Balance",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(f.Z,{variant:"body2",children:(0,I.Z)(t.balance)})}},{flex:.05,field:"active",headerName:"",renderCell:e=>{let{row:t}=e;return"A"==t.status?(0,n.jsx)(C.Z,{icon:"lets-icons:check-fill",color:"#56ca00",fontSize:20}):(0,n.jsx)(C.Z,{icon:"bxs:x-circle",color:"#ff4b51",fontSize:20})}}],z=()=>{let[e,t]=(0,i.useState)([]),[r,a]=(0,i.useState)(""),[u,f]=(0,i.useState)(""),[P,S]=(0,i.useState)([]),[I,R]=(0,i.useState)({page:0,pageSize:20}),z=(0,y.I0)(),_=(0,y.v9)(e=>e.clients);(0,i.useEffect)(()=>{z((0,N.rQ)({dates:e,query:r,procesado:u,pageNumber:I.page}))},[]);let T=(0,i.useCallback)(t=>{R(t),z((0,N.rQ)({dates:e,query:r,procesado:u,pageNumber:t.page}))},[I,r,u]),E=(0,i.useCallback)(t=>{z((0,N.rQ)({dates:e,query:t,procesado:u,pageNumber:I.page}))},[z,u,r,e,I]),H=(0,i.useCallback)((0,b.Z)(e=>{R({page:1,pageSize:20}),E(e)},900),[]),A=(0,i.useCallback)(e=>{H.clear(),a(e),H(e)},[H]),D=e=>{f(e.target.value)},O=[...M,{flex:.1,minWidth:130,sortable:!1,field:"actions",headerName:"Actions",renderCell:e=>{let{row:t}=e;return(0,n.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(d.Z,{title:"Aprobar",children:(0,n.jsx)(p.Z,{size:"small",disabled:!0,onClick:()=>z((0,N.Nu)(t.codigo)),children:(0,n.jsx)(C.Z,{icon:"tabler:edit",fontSize:20})})}),(0,n.jsx)(d.Z,{title:"View",children:(0,n.jsx)(p.Z,{size:"small",component:l(),disabled:!0,href:"/apps/invoice/preview/".concat(t.codigo),children:(0,n.jsx)(C.Z,{icon:"mdi:eye-outline",fontSize:20})})})]})}}];return(0,n.jsx)(W.Z,{children:(0,n.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(h.Z,{title:"Clientes",action:(0,n.jsx)(w.Z,{options:[{text:"Importar",icon:(0,n.jsx)(C.Z,{icon:"tabler:file-import",fontSize:20})},{text:"Exportar",icon:(0,n.jsx)(C.Z,{icon:"clarity:export-line",fontSize:20})}],iconButtonProps:{size:"small",sx:{color:"text.primary"}}})}),(0,n.jsx)(v.Z,{children:(0,n.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,n.jsx)(s.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsxs)(Z.Z,{fullWidth:!0,children:[(0,n.jsx)(m.Z,{id:"invoice-status-select",children:"Vendedor"}),(0,n.jsx)(j.Z,{fullWidth:!0,value:u,sx:{mr:4,mb:2},label:"Vendedor",onChange:D,labelId:"invoice-status-select",children:(0,n.jsx)(x.Z,{value:"",children:"none"})})]})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsxs)(Z.Z,{fullWidth:!0,children:[(0,n.jsx)(m.Z,{id:"invoice-status-select",children:"Activo"}),(0,n.jsx)(j.Z,{fullWidth:!0,value:u,sx:{mr:4,mb:2},label:"Activo",onChange:D,labelId:"invoice-status-select",children:(0,n.jsx)(x.Z,{value:"",children:"none"})})]})})]})})]})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(k,{value:r,selectedRows:P,handleFilter:A,placeholder:"Nombre o c\xf3digo"}),(0,n.jsx)(g._,{autoHeight:!0,pagination:!0,rows:_.data,columns:O,disableRowSelectionOnClick:!0,paginationModel:I,onPaginationModelChange:T,onRowSelectionModelChange:e=>S(e),getRowId:e=>e.codigo,paginationMode:"server",loading:_.isLoading,rowCount:_.totalResults})]})})]})})};var _=z},31704:function(e,t,r){"use strict";let n=e=>{let t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return t};t.Z=n},459:function(){}},function(e){e.O(0,[135,657,519,863,506,774,888,179],function(){return e(e.s=96361)}),_N_E=e.O()}]);