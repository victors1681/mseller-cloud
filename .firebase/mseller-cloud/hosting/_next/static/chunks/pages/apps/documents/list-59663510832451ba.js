(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[390],{36811:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/documents/list",function(){return t(90506)}])},60155:function(e,n,t){"use strict";var l=t(85893),i=t(67294),r=t(69661),s=t(2734),a=t(41796),o=t(50591);let d=(0,i.forwardRef)((e,n)=>{let{sx:t,src:i,skin:d,color:c}=e,u=(0,s.Z)(),h=(0,o.Z)(),x=(e,n)=>"light"===e?{...h["".concat(n,"Light")]}:"light-static"===e?{color:h["".concat(n,"Light")].color,backgroundColor:(0,a.$n)(u.palette[n].main,.88)}:{...h["".concat(n,"Filled")]},m={primary:x(d,"primary"),secondary:x(d,"secondary"),success:x(d,"success"),error:x(d,"error"),warning:x(d,"warning"),info:x(d,"info")};return(0,l.jsx)(r.Z,{ref:n,...e,sx:!i&&d&&c?Object.assign(m[c],t):t})});d.defaultProps={skin:"filled",color:"primary"},n.Z=d},50613:function(e,n,t){"use strict";var l=t(85893),i=t(87918),r=t(86010),s=t(50591);let a=e=>{let{sx:n,skin:t,color:a,rounded:o}=e,d=(0,s.Z)(),c={primary:{...d.primaryLight},secondary:{...d.secondaryLight},success:{...d.successLight},error:{...d.errorLight},warning:{...d.warningLight},info:{...d.infoLight}},u={...e};return u.rounded=void 0,(0,l.jsx)(i.Z,{...u,variant:"filled",className:(0,r.Z)({"MuiChip-rounded":o,"MuiChip-light":"light"===t}),sx:"light"===t&&a?Object.assign(c[a],n):n})};n.Z=a},81010:function(e,n,t){"use strict";var l=t(85893),i=t(67294),r=t(41664),s=t.n(r),a=t(87357),o=t(38333),d=t(67720),c=t(18972),u=t(93946),h=t(63730),x=t(23918);let m=e=>{let{children:n,option:t}=e;return t.href?(0,l.jsx)(a.Z,{component:s(),href:t.href,...t.linkProps,sx:{px:4,py:1.5,width:"100%",display:"flex",color:"inherit",alignItems:"center",textDecoration:"none"},children:n}):(0,l.jsx)(l.Fragment,{children:n})},p=e=>{let{icon:n,options:t,menuProps:r,iconProps:s,leftAlignMenu:a,iconButtonProps:p}=e,[f,j]=(0,i.useState)(null),{settings:Z}=(0,x.r)(),{direction:g}=Z,v=e=>{j(e.currentTarget)},b=()=>{j(null)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.Z,{"aria-haspopup":"true",onClick:v,...p,children:n||(0,l.jsx)(h.Z,{icon:"mdi:dots-vertical",...s})}),(0,l.jsx)(o.Z,{keepMounted:!0,anchorEl:f,onClose:b,open:!!f,...!a&&{anchorOrigin:{vertical:"bottom",horizontal:"ltr"===g?"right":"left"},transformOrigin:{vertical:"top",horizontal:"ltr"===g?"right":"left"}},...r,children:t.map((e,n)=>"string"==typeof e?(0,l.jsx)(c.Z,{onClick:b,children:e},n):"divider"in e?e.divider&&(0,l.jsx)(d.Z,{...e.dividerProps},n):(0,l.jsx)(c.Z,{...e.menuItemProps,...e.href&&{sx:{p:0}},onClick:n=>{b(),e.menuItemProps&&e.menuItemProps.onClick&&e.menuItemProps.onClick(n)},children:(0,l.jsxs)(m,{option:e,children:[e.icon?e.icon:null,e.text]})},n))})]})};n.Z=p},90506:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return B}});var l=t(85893),i=t(67294),r=t(41664),s=t.n(r),a=t(87357),o=t(86886),d=t(66242),c=t(34386),u=t(90948),h=t(18972),x=t(50135),m=t(78445),p=t(93946),f=t(33841),j=t(15861),Z=t(94054),g=t(44267),v=t(18360),b=t(54028),y=t(63730),C=t(42298),P=t(9198),w=t.n(P),S=t(9473),k=t(49314);let W=e=>e.split(/\s/).reduce((e,n)=>e+=n.slice(0,1),"");var I=t(50613),z=t(60155),E=t(81010),N=t(83321);let D=e=>{let{value:n,selectedRows:t,handleFilter:i}=e;return(0,l.jsxs)(a.Z,{sx:{p:5,pb:3,width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,l.jsxs)(v.Z,{size:"small",displayEmpty:!0,defaultValue:"",sx:{mr:4,mb:2},disabled:t&&0===t.length,renderValue:e=>0===e.length?"Acciones":e,children:[(0,l.jsx)(h.Z,{disabled:!0,children:"Acciones"}),(0,l.jsx)(h.Z,{value:"1",children:"Aprobar"}),(0,l.jsx)(h.Z,{value:"3",children:"Retener"}),(0,l.jsx)(h.Z,{value:"delete",children:"Eliminar"})]}),(0,l.jsxs)(a.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:[(0,l.jsx)(x.Z,{size:"small",value:n,sx:{mr:4,mb:2},placeholder:e.placeholder,onChange:e=>i(e.target.value)}),(0,l.jsx)(N.Z,{sx:{mb:2},disabled:!0,component:s(),variant:"contained",href:"/apps/invoice/add",children:"Crear Pedido"})]})]})};var L=t(82229),M=t(87819),O=t(31704),_=t(69702),R=t(57144);let F=(0,u.ZP)(s())(e=>{let{theme:n}=e;return{textDecoration:"none",color:n.palette.primary.main}}),T={0:"Pendiente",1:"Procesado",3:"Retenido",5:"Pendinete Imprimir",6:"Condicion Cr\xe9dito",7:"Backorder",8:"Error Integraci\xf3n",9:"Listo Para Integrar",10:"Enviado al ERP"},V={1:"success",10:"success",0:"warning",3:"info",9:"secondary",5:"primary",8:"error"},A=e=>e.avatarUrl?(0,l.jsx)(z.Z,{src:e.avatarUrl,sx:{mr:3,width:"1.875rem",height:"1.875rem"}}):(0,l.jsx)(z.Z,{skin:"light",sx:{mr:3,fontSize:".8rem",width:"1.875rem",height:"1.875rem"},children:W(e.nombreCliente||"")}),U=[{flex:.2,field:"id",minWidth:120,headerName:"#",renderCell:e=>{let{row:n}=e;return(0,l.jsx)(F,{href:"/apps/invoice/preview/".concat(n.noPedidoStr),children:"".concat(n.noPedidoStr)})}},{flex:.25,field:"seller",minWidth:250,headerName:"Vendedor",renderCell:e=>{let{row:n}=e;return(0,l.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[A(n),(0,l.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,l.jsx)(j.Z,{noWrap:!0,variant:"body2",sx:{color:"text.primary",fontWeight:600},children:n.vendedor.nombre}),(0,l.jsx)(j.Z,{noWrap:!0,variant:"caption",children:n.vendedor.codigo})]})]})}},{flex:.25,field:"client",minWidth:300,headerName:"Cliente",renderCell:e=>{let{row:n}=e;return(0,l.jsx)(a.Z,{sx:{display:"flex",alignItems:"center"},children:(0,l.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,l.jsx)(j.Z,{noWrap:!0,variant:"body2",sx:{color:"text.primary",fontWeight:600,textTransform:"capitalize"},children:n.nombreCliente}),(0,l.jsxs)(j.Z,{noWrap:!0,variant:"caption",children:[n.codigoCliente," - ",n.condicion.descripcion]})]})})}},{flex:.1,minWidth:90,field:"total",headerName:"Total",renderCell:e=>{let{row:n}=e;return(0,l.jsx)(j.Z,{variant:"body2",children:"".concat((0,O.Z)(n.total)||0)})}},{flex:.15,minWidth:130,field:"issuedDate",headerName:"Fecha",renderCell:e=>{let{row:n}=e;return(0,l.jsx)(j.Z,{variant:"body2",children:(0,M.Z)(n.fecha)})}},{flex:.1,minWidth:120,field:"status",headerName:"Status",renderCell:e=>{let{row:n}=e;return(0,l.jsx)(I.Z,{skin:"light",size:"small",label:T[null==n?void 0:n.procesado]||"",color:V[n.procesado],sx:{textTransform:"capitalize"}})}}],q=(0,i.forwardRef)((e,n)=>{let t=null!==e.start?(0,C.default)(e.start,"MM/dd/yyyy"):"",i=null!==e.end?" - ".concat((0,C.default)(e.end,"MM/dd/yyyy")):null,r="".concat(t).concat(null!==i?i:"");null===e.start&&e.dates.length&&e.setDates&&e.setDates([]);let s={...e};return delete s.setDates,(0,l.jsx)(x.Z,{fullWidth:!0,inputRef:n,...s,label:e.label||"",value:r})}),Q=()=>{let[e,n]=(0,i.useState)([]),[t,r]=(0,i.useState)(""),[u,j]=(0,i.useState)(""),[C,P]=(0,i.useState)(null),[W,I]=(0,i.useState)([]),[z,N]=(0,i.useState)(null),[M,O]=(0,i.useState)({page:0,pageSize:20}),F=(0,S.I0)(),V=(0,S.v9)(e=>e.invoice),A=(0,i.useCallback)(n=>{O(n),F((0,k.rQ)({dates:e,query:t,procesado:u,pageNumber:n.page}))},[M,t,u]);(0,i.useEffect)(()=>{F((0,k.rQ)({dates:e,query:t,procesado:u,pageNumber:M.page}))},[F,u,e]);let Q=(0,i.useCallback)(n=>{F((0,k.rQ)({dates:e,query:n,procesado:u,pageNumber:M.page}))},[F,u,t,e,M]),B=(0,i.useCallback)((0,R.Z)(e=>{O({page:1,pageSize:20}),Q(e)},900),[]),X=(0,i.useCallback)(e=>{B.clear(),r(e),B(e)},[B]),H=e=>{j(e.target.value)},$=e=>{let[t,l]=e;null!==t&&null!==l&&n(e),N(t),P(l)},G=[...U,{flex:.1,minWidth:130,sortable:!1,field:"actions",headerName:"Actions",renderCell:e=>{let{row:n}=e;return(0,l.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,l.jsx)(c.Z,{title:"Aprobar",children:(0,l.jsx)(p.Z,{size:"small",onClick:()=>F((0,k.Wu)(n.noPedidoStr)),children:(0,l.jsx)(y.Z,{icon:"material-symbols:order-approve",fontSize:20})})}),(0,l.jsx)(c.Z,{title:"View",children:(0,l.jsx)(p.Z,{size:"small",component:s(),href:"/apps/invoice/preview/".concat(n.noPedidoStr),children:(0,l.jsx)(y.Z,{icon:"mdi:eye-outline",fontSize:20})})}),(0,l.jsx)(E.Z,{iconProps:{fontSize:20},iconButtonProps:{size:"small"},menuProps:{sx:{"& .MuiMenuItem-root svg":{mr:2}}},options:[{text:"Download",icon:(0,l.jsx)(y.Z,{icon:"mdi:download",fontSize:20})},{text:"Edit",href:"/apps/invoice/edit/".concat(n.noPedidoStr),icon:(0,l.jsx)(y.Z,{icon:"mdi:pencil-outline",fontSize:20})},{text:"Duplicate",icon:(0,l.jsx)(y.Z,{icon:"mdi:content-copy",fontSize:20})}]})]})}}];return(0,l.jsx)(L.Z,{children:(0,l.jsxs)(o.ZP,{container:!0,spacing:6,children:[(0,l.jsx)(o.ZP,{item:!0,xs:12,children:(0,l.jsxs)(d.Z,{children:[(0,l.jsx)(m.Z,{title:"Filters"}),(0,l.jsx)(g.Z,{children:(0,l.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,l.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,l.jsxs)(Z.Z,{fullWidth:!0,children:[(0,l.jsx)(f.Z,{id:"invoice-status-select",children:"Estado de la orden"}),(0,l.jsxs)(v.Z,{fullWidth:!0,value:u,sx:{mr:4,mb:2},label:"Estado de la orden",onChange:H,labelId:"invoice-status-select",children:[(0,l.jsx)(h.Z,{value:"",children:"none"}),Object.keys(T).map(e=>(0,l.jsx)(h.Z,{value:e,children:T[e]}))]})]})}),(0,l.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,l.jsxs)(Z.Z,{fullWidth:!0,children:[(0,l.jsx)(f.Z,{id:"invoice-status-select",children:"Condici\xf3n de Pago"}),(0,l.jsxs)(v.Z,{fullWidth:!0,value:u,sx:{mr:4,mb:2},label:"Estado de la orden",onChange:H,labelId:"invoice-status-select",children:[(0,l.jsx)(h.Z,{value:"",children:"none"}),Object.keys(T).map(e=>(0,l.jsx)(h.Z,{value:e,children:T[e]}))]})]})}),(0,l.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,l.jsxs)(Z.Z,{fullWidth:!0,children:[(0,l.jsx)(f.Z,{id:"invoice-status-select",children:"Localidad"}),(0,l.jsxs)(v.Z,{fullWidth:!0,value:u,sx:{mr:4,mb:2},label:"Estado de la orden",onChange:H,labelId:"invoice-status-select",children:[(0,l.jsx)(h.Z,{value:"",children:"none"}),Object.keys(T).map(e=>(0,l.jsx)(h.Z,{value:e,children:T[e]}))]})]})}),(0,l.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,l.jsxs)(Z.Z,{fullWidth:!0,children:[(0,l.jsx)(f.Z,{id:"invoice-status-select",children:"Tipo Documento"}),(0,l.jsxs)(v.Z,{fullWidth:!0,value:u,sx:{mr:4,mb:2},label:"Estado de la orden",onChange:H,labelId:"invoice-status-select",children:[(0,l.jsx)(h.Z,{value:"",children:"none"}),(0,l.jsx)(h.Z,{value:"2",children:"Pedido"}),(0,l.jsx)(h.Z,{value:"2",children:"Cotizaci\xf3n"})]})]})}),(0,l.jsx)(o.ZP,{xs:12,sm:4,children:(0,l.jsx)(_.Z,{multiple:!0,options:[{title:"test"}],filterSelectedOptions:!0,defaultValue:[{title:"test"}],id:"autocomplete-multiple-outlined",getOptionLabel:e=>e.title||"",sx:{mt:3,ml:3},renderInput:e=>(0,l.jsx)(x.Z,{...e,label:"Vendedores",placeholder:"Vendedores"})})}),(0,l.jsx)(o.ZP,{item:!0,xs:12,sm:4,children:(0,l.jsx)(w(),{isClearable:!0,selectsRange:!0,monthsShown:2,endDate:C,selected:z,startDate:z,shouldCloseOnSelect:!1,id:"date-range-picker-months",onChange:$,customInput:(0,l.jsx)(q,{dates:e,setDates:n,label:"Fecha",end:C,start:z})})})]})})]})}),(0,l.jsx)(o.ZP,{item:!0,xs:12,children:(0,l.jsxs)(d.Z,{children:[(0,l.jsx)(D,{value:t,selectedRows:W,handleFilter:X,placeholder:"Cliente, NoPedido"}),(0,l.jsx)(b._,{autoHeight:!0,pagination:!0,checkboxSelection:!0,rows:V.data,columns:G,disableRowSelectionOnClick:!0,paginationModel:M,onPaginationModelChange:A,onRowSelectionModelChange:e=>I(e),getRowId:e=>e.noPedidoStr,paginationMode:"server",loading:V.isLoading,rowCount:V.totalResults})]})})]})})};var B=Q},31704:function(e,n,t){"use strict";let l=e=>{let n=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return n};n.Z=l},87819:function(e,n,t){"use strict";var l=t(30381),i=t.n(l);let r=e=>{let n=navigator.language||navigator.userLanguage;i().locale(n);let t=i()(e).format("lll");return t};n.Z=r}},function(e){e.O(0,[885,135,657,519,863,329,506,774,888,179],function(){return e(e.s=36811)}),_N_E=e.O()}]);