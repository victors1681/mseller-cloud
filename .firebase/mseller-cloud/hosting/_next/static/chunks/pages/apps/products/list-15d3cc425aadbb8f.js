(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{44267:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(87462),i=r(63366),a=r(67294),l=r(86010),o=r(94780),s=r(90948),c=r(71657),d=r(1588),u=r(34867);function p(e){return(0,u.Z)("MuiCardContent",e)}(0,d.Z)("MuiCardContent",["root"]);var x=r(85893);let h=["className","component"],m=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"]},p,t)},f=(0,s.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Z=a.forwardRef(function(e,t){let r=(0,c.Z)({props:e,name:"MuiCardContent"}),{className:a,component:o="div"}=r,s=(0,i.Z)(r,h),d=(0,n.Z)({},r,{component:o}),u=m(d);return(0,x.jsx)(f,(0,n.Z)({as:o,className:(0,l.Z)(u.root,a),ownerState:d,ref:t},s))});var v=Z},78445:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(63366),i=r(87462),a=r(67294),l=r(86010),o=r(94780),s=r(15861),c=r(71657),d=r(90948),u=r(1588),p=r(34867);function x(e){return(0,p.Z)("MuiCardHeader",e)}let h=(0,u.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var m=r(85893);let f=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],Z=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},x,t)},v=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,i.Z)({[`& .${h.title}`]:t.title,[`& .${h.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),j=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),g=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),b=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),C=a.forwardRef(function(e,t){let r=(0,c.Z)({props:e,name:"MuiCardHeader"}),{action:a,avatar:o,className:d,component:u="div",disableTypography:p=!1,subheader:x,subheaderTypographyProps:h,title:C,titleTypographyProps:y}=r,N=(0,n.Z)(r,f),w=(0,i.Z)({},r,{component:u,disableTypography:p}),P=Z(w),k=C;null==k||k.type===s.Z||p||(k=(0,m.jsx)(s.Z,(0,i.Z)({variant:o?"body2":"h5",className:P.title,component:"span",display:"block"},y,{children:k})));let S=x;return null==S||S.type===s.Z||p||(S=(0,m.jsx)(s.Z,(0,i.Z)({variant:o?"body2":"body1",className:P.subheader,color:"text.secondary",component:"span",display:"block"},h,{children:S}))),(0,m.jsxs)(v,(0,i.Z)({className:(0,l.Z)(P.root,d),as:u,ref:t,ownerState:w},N,{children:[o&&(0,m.jsx)(j,{className:P.avatar,ownerState:w,children:o}),(0,m.jsxs)(b,{className:P.content,ownerState:w,children:[k,S]}),a&&(0,m.jsx)(g,{className:P.action,ownerState:w,children:a})]}))});var y=C},5715:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/products/list",function(){return r(30225)}])},81010:function(e,t,r){"use strict";var n=r(85893),i=r(67294),a=r(41664),l=r.n(a),o=r(87357),s=r(38333),c=r(67720),d=r(18972),u=r(93946),p=r(63730),x=r(23918);let h=e=>{let{children:t,option:r}=e;return r.href?(0,n.jsx)(o.Z,{component:l(),href:r.href,...r.linkProps,sx:{px:4,py:1.5,width:"100%",display:"flex",color:"inherit",alignItems:"center",textDecoration:"none"},children:t}):(0,n.jsx)(n.Fragment,{children:t})},m=e=>{let{icon:t,options:r,menuProps:a,iconProps:l,leftAlignMenu:o,iconButtonProps:m}=e,[f,Z]=(0,i.useState)(null),{settings:v}=(0,x.r)(),{direction:j}=v,g=e=>{Z(e.currentTarget)},b=()=>{Z(null)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{"aria-haspopup":"true",onClick:g,...m,children:t||(0,n.jsx)(p.Z,{icon:"mdi:dots-vertical",...l})}),(0,n.jsx)(s.Z,{keepMounted:!0,anchorEl:f,onClose:b,open:!!f,...!o&&{anchorOrigin:{vertical:"bottom",horizontal:"ltr"===j?"right":"left"},transformOrigin:{vertical:"top",horizontal:"ltr"===j?"right":"left"}},...a,children:r.map((e,t)=>"string"==typeof e?(0,n.jsx)(d.Z,{onClick:b,children:e},t):"divider"in e?e.divider&&(0,n.jsx)(c.Z,{...e.dividerProps},t):(0,n.jsx)(d.Z,{...e.menuItemProps,...e.href&&{sx:{p:0}},onClick:t=>{b(),e.menuItemProps&&e.menuItemProps.onClick&&e.menuItemProps.onClick(t)},children:(0,n.jsxs)(h,{option:e,children:[e.icon?e.icon:null,e.text]})},t))})]})};t.Z=m},30225:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return A}});var n=r(85893),i=r(67294),a=r(41664),l=r.n(a),o=r(87357),s=r(86886),c=r(66242),d=r(34386),u=r(90948),p=r(18972),x=r(78445),h=r(93946),m=r(33841),f=r(15861),Z=r(94054),v=r(44267),j=r(18360),g=r(54028),b=r(57144),C=r(63730),y=r(9473),N=r(84025),w=r(63676),P=r(82229),k=r(38333),S=r(83321),I=r(31704);let M=e=>{let{prices:t,defaultPrice:r}=e,[a,l]=(0,i.useState)(null),o=e=>{l(e.currentTarget)},s=()=>{l(null)};return(0,n.jsxs)("div",{children:[(0,n.jsx)(S.Z,{variant:"text","aria-controls":"simple-menu","aria-haspopup":"true",size:"small",onClick:o,children:(0,I.Z)(r)}),(0,n.jsx)(k.Z,{keepMounted:!0,id:"simple-menu",anchorEl:a,onClose:s,open:!!a,children:t.map((e,t)=>(0,n.jsx)(p.Z,{onClick:s,children:(0,n.jsxs)(f.Z,{variant:"subtitle2",children:["Precio",t+2,": ",(0,I.Z)(e)]})}))})]})};var z=r(81010);let R=(0,u.ZP)(l())(e=>{let{theme:t}=e;return{textDecoration:"none",color:t.palette.primary.main}}),W=[{flex:.1,field:"id",minWidth:80,headerName:"C\xf3digo",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(R,{href:"/apps/invoice/preview/".concat(t.codigo),children:"".concat(t.codigo)})}},{flex:.35,field:"name",minWidth:300,headerName:"Nombre",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(o.Z,{sx:{display:"flex",alignItems:"center"},children:(0,n.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,n.jsx)(f.Z,{noWrap:!0,variant:"body2",sx:{color:"text.primary",fontWeight:600,textTransform:"capitalize"},children:t.nombre}),(0,n.jsxs)(f.Z,{noWrap:!0,variant:"caption",children:[t.area," - ",t.iDArea]})]})})}},{flex:.15,minWidth:130,field:"unit",headerName:"Un",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(f.Z,{variant:"body2",children:t.unidad})}},{flex:.15,minWidth:130,field:"pack",headerName:"Empaque",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(f.Z,{variant:"body2",children:t.empaque})}},{flex:.2,field:"price",minWidth:200,headerName:"Precios",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(o.Z,{sx:{display:"flex",alignItems:"center"},children:(0,n.jsx)(o.Z,{sx:{display:"flex",flexDirection:"column"},children:(0,n.jsx)(M,{defaultPrice:t.precio1,prices:[t.precio2,t.precio3,t.precio4,t.precio5]})})})}},{flex:.1,minWidth:90,field:"stock",headerName:"Impuesto",renderCell:e=>{let{row:t}=e;return(0,n.jsxs)(f.Z,{variant:"body2",children:[t.impuesto,"%"]})}},{flex:.1,minWidth:80,field:"fact",headerName:"Factor",renderCell:e=>{let{row:t}=e;return(0,n.jsx)(f.Z,{variant:"body2",children:t.factor})}},{flex:.05,field:"active",headerName:"",renderCell:e=>{let{row:t}=e;return"A"==t.status?(0,n.jsx)(C.Z,{icon:"lets-icons:check-fill",color:"#56ca00",fontSize:20}):(0,n.jsx)(C.Z,{icon:"bxs:x-circle",color:"#ff4b51",fontSize:20})}}],_=()=>{let[e,t]=(0,i.useState)([]),[r,a]=(0,i.useState)(""),[u,f]=(0,i.useState)(""),[k,S]=(0,i.useState)([]),[I,M]=(0,i.useState)({page:0,pageSize:20}),R=(0,y.I0)(),_=(0,y.v9)(e=>e.products);(0,i.useEffect)(()=>{R((0,N.rQ)({query:r,status:u,pageNumber:I.page}))},[u]);let A=(0,i.useCallback)(e=>{M(e),R((0,N.rQ)({query:r,status:u,pageNumber:e.page}))},[I,r,u]),E=(0,i.useCallback)(e=>{R((0,N.rQ)({query:e,status:u,pageNumber:I.page}))},[R,u,r,e,I]),T=(0,i.useCallback)((0,b.Z)(e=>{M({page:1,pageSize:20}),E(e)},900),[]),H=(0,i.useCallback)(e=>{T.clear(),a(e),T(e)},[T]),D=e=>{f(e.target.value)},q=[...W,{flex:.1,minWidth:130,sortable:!1,field:"actions",headerName:"Actions",renderCell:e=>{let{row:t}=e;return(0,n.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(d.Z,{title:"Aprobar",children:(0,n.jsx)(h.Z,{size:"small",disabled:!0,onClick:()=>R((0,N.Ir)(t.codigo)),children:(0,n.jsx)(C.Z,{icon:"tabler:edit",fontSize:20})})}),(0,n.jsx)(d.Z,{title:"View",children:(0,n.jsx)(h.Z,{size:"small",component:l(),disabled:!0,href:"/apps/invoice/preview/".concat(t.codigo),children:(0,n.jsx)(C.Z,{icon:"mdi:eye-outline",fontSize:20})})})]})}}];return(0,n.jsx)(P.Z,{children:(0,n.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(x.Z,{title:"Productos",action:(0,n.jsx)(z.Z,{options:[{text:"Importar",icon:(0,n.jsx)(C.Z,{icon:"tabler:file-import",fontSize:20})},{text:"Exportar",icon:(0,n.jsx)(C.Z,{icon:"clarity:export-line",fontSize:20})}],iconButtonProps:{size:"small",sx:{color:"text.primary"}}})}),(0,n.jsx)(v.Z,{children:(0,n.jsx)(s.ZP,{container:!0,spacing:3,children:(0,n.jsx)(s.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsxs)(Z.Z,{fullWidth:!0,children:[(0,n.jsx)(m.Z,{id:"invoice-status-select",children:"Activo"}),(0,n.jsxs)(j.Z,{fullWidth:!0,value:u,sx:{mr:4,mb:2},label:"Activo",onChange:D,labelId:"invoice-status-select",children:[(0,n.jsx)(p.Z,{value:"",children:"none"}),(0,n.jsx)(p.Z,{value:"A",children:"Activo"}),(0,n.jsx)(p.Z,{value:"I",children:"Inactivo"})]})]})})})})]})}),(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(w.Z,{value:r,selectedRows:k,handleFilter:H,placeholder:"Nombre o c\xf3digo"}),(0,n.jsx)(g._,{autoHeight:!0,pagination:!0,rows:_.data,columns:q,disableRowSelectionOnClick:!0,paginationModel:I,onPaginationModelChange:A,onRowSelectionModelChange:e=>S(e),getRowId:e=>e.codigo,paginationMode:"server",loading:_.isLoading,rowCount:_.totalResults})]})})]})})};var A=_},31704:function(e,t,r){"use strict";let n=e=>{let t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return t};t.Z=n},63676:function(e,t,r){"use strict";var n=r(85893),i=r(41664),a=r.n(i),l=r(87357),o=r(83321),s=r(50135);let c=e=>{let{value:t,selectedRows:r,handleFilter:i}=e;return(0,n.jsxs)(l.Z,{sx:{p:5,pb:3,width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsx)("div",{}),(0,n.jsxs)(l.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:[(0,n.jsx)(s.Z,{size:"small",value:t,sx:{mr:4,mb:2},placeholder:e.placeholder,onChange:e=>i(e.target.value)}),(0,n.jsx)(o.Z,{sx:{mb:2},disabled:!0,component:a(),variant:"contained",href:"/apps/invoice/add",children:"Crear Producto"})]})]})};t.Z=c},459:function(){}},function(e){e.O(0,[135,657,519,863,506,774,888,179],function(){return e(e.s=5715)}),_N_E=e.O()}]);