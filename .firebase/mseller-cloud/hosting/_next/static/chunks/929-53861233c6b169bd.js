"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{50613:function(e,n,r){var t=r(85893),i=r(87918),a=r(86010),s=r(50591);let l=e=>{let{sx:n,skin:r,color:l,rounded:o}=e,d=(0,s.Z)(),c={primary:{...d.primaryLight},secondary:{...d.secondaryLight},success:{...d.successLight},error:{...d.errorLight},warning:{...d.warningLight},info:{...d.infoLight}},x={...e};return x.rounded=void 0,(0,t.jsx)(i.Z,{...x,variant:"filled",className:(0,a.Z)({"MuiChip-rounded":o,"MuiChip-light":"light"===r}),sx:"light"===r&&l?Object.assign(c[l],n):n})};n.Z=l},71929:function(e,n,r){r.r(n);var t=r(85893),i=r(67294),a=r(50657),s=r(93946),l=r(15861),o=r(37645),d=r(6514),c=r(90948),x=r(63730),h=r(41664),m=r.n(h),p=r(87357),u=r(15953),g=r(86886),Z=r(44267),f=r(67720),j=r(66242),y=r(54028),b=r(31704),v=r(50613),E=r(51089),I=r(87819);let P=(0,c.ZP)(m())(e=>{let{theme:n}=e;return{textDecoration:"none",color:n.palette.primary.main}}),W=[{field:"qty",headerName:"Cant.",flex:.15,minWidth:100,editable:!0,renderCell:e=>{let{row:n}=e;return(0,t.jsx)(p.Z,{sx:{display:"flex",alignItems:"center"},children:(0,t.jsxs)(p.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,t.jsx)(l.Z,{noWrap:!0,variant:"body2",sx:{color:"text.primary",textTransform:"capitalize"},children:n.cantidad_E}),(0,t.jsxs)(l.Z,{noWrap:!0,variant:"caption",children:["O:",n.cantidad_E]})]})})}},{flex:.1,minWidth:50,field:"unit",headerName:"Un",renderCell:e=>{let{row:n}=e;return(0,t.jsx)(l.Z,{variant:"body2",children:n.unidad})}},{field:"code",headerName:"Art\xedculo",flex:.4,minWidth:150,editable:!0,renderCell:e=>{let{row:n}=e;return(0,t.jsx)(p.Z,{sx:{display:"flex",alignItems:"center"},children:(0,t.jsxs)(p.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,t.jsx)(l.Z,{noWrap:!0,variant:"body2",sx:{color:"text.primary",textTransform:"capitalize"},children:n.producto.nombre}),(0,t.jsx)(l.Z,{noWrap:!0,variant:"caption",children:n.producto.codigo})]})})}},{field:"discount",headerName:"Desc.",flex:.1,minWidth:80,editable:!0,renderCell:e=>{let{row:n}=e;return(0,t.jsx)(p.Z,{sx:{display:"flex",alignItems:"center"},children:(0,t.jsxs)(p.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,t.jsxs)(l.Z,{noWrap:!0,variant:"body2",sx:{color:"text.primary",textTransform:"capitalize"},children:[n.porcientoDescuento_E,"%"]}),(0,t.jsxs)(l.Z,{noWrap:!0,variant:"caption",children:["O:",n.porcientoDescuento,"%"]})]})})}},{field:"price",headerName:"Precio",flex:.15,minWidth:150,editable:!0,renderCell:e=>{let{row:n}=e;return(0,t.jsx)(p.Z,{sx:{display:"flex",alignItems:"center"},children:(0,t.jsx)(p.Z,{sx:{display:"flex",flexDirection:"column"},children:(0,t.jsx)(l.Z,{noWrap:!0,variant:"body2",sx:{color:"text.primary",textTransform:"capitalize"},children:(0,b.Z)(n.precioUnitario)})})})}},{field:"total",headerName:"total",width:120,editable:!0,renderCell:e=>{let{row:n}=e;return(0,t.jsx)(p.Z,{sx:{display:"flex",alignItems:"center"},children:(0,t.jsxs)(p.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,t.jsx)(l.Z,{noWrap:!0,variant:"body2",sx:{color:"text.primary",textTransform:"capitalize"},children:(0,b.Z)(n.subtotal_E)}),(0,t.jsxs)(l.Z,{noWrap:!0,variant:"caption",children:["O:",(0,b.Z)(n.subtotal)]})]})})}}],C=(0,c.ZP)(p.Z)(e=>{let{theme:n}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between","&:not(:last-of-type)":{marginBottom:n.spacing(2)}}});(0,c.ZP)(u.Z)(e=>{let{theme:n}=e;return{borderBottom:0,paddingLeft:"0 !important",paddingRight:"0 !important",paddingTop:"".concat(n.spacing(1)," !important"),paddingBottom:"".concat(n.spacing(1)," !important")}});let D=e=>{let{data:n}=e;return(0,t.jsxs)(g.ZP,{container:!0,children:[(0,t.jsx)(g.ZP,{item:!0,sm:6,xs:12,sx:{pb:3},children:(0,t.jsxs)(p.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,t.jsx)(p.Z,{sx:{mb:0,display:"flex",alignItems:"center"},children:(0,t.jsx)(l.Z,{variant:"body2",sx:{mr:2,fontWeight:600},children:n.cliente.nombre})}),(0,t.jsxs)(l.Z,{variant:"body2",sx:{mb:1},children:[n.cliente.direccion,", ",n.cliente.ciudad]}),(0,t.jsxs)(p.Z,{sx:{mb:0,display:"flex",alignItems:"center"},children:[(0,t.jsx)(l.Z,{variant:"body2",sx:{mr:2,fontWeight:600},children:"Tel.:"}),(0,t.jsx)(l.Z,{variant:"body2",children:n.cliente.telefono1})]}),(0,t.jsxs)(p.Z,{sx:{mb:0,display:"flex",alignItems:"center"},children:[(0,t.jsx)(l.Z,{variant:"body2",sx:{mr:2,fontWeight:600},children:"RNC:"}),(0,t.jsx)(l.Z,{variant:"body2",children:n.cliente.rnc})]})]})}),(0,t.jsxs)(g.ZP,{item:!0,sm:6,xs:12,children:[(0,t.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(l.Z,{variant:"body2",sx:{mr:2,fontWeight:600},children:"NCF:"}),(0,t.jsx)(l.Z,{variant:"body2",children:n.ncf?n.ncf:"-"})]}),(0,t.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(l.Z,{variant:"body2",sx:{mr:2,fontWeight:600},children:"NCF Auto Asignado:"}),(0,t.jsx)(l.Z,{variant:"body2",sx:{fontWeight:600,color:"text.primary"},children:n.NcfAutoActualizado?"SI":"NO"})]}),(0,t.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(l.Z,{variant:"body2",sx:{mr:2,fontWeight:600},children:"Permite Editar:"}),(0,t.jsx)(l.Z,{variant:"body2",sx:{fontWeight:600,color:"text.primary"},children:n.permitirEditar?"SI":"NO"})]})]})]})},z=e=>{var n,r;let{data:i}=e,a=i.detalle.reduce((e,n)=>e+=n.subtotal_E<0?0:n.subtotal_E,0),s=i.detalle.reduce((e,n)=>e+=n.totalDescuento_E<0?0:n.totalDescuento_E,0),o=i.detalle.reduce((e,n)=>e+=n.totalImpuesto_E<0?0:n.totalImpuesto_E,0);return(0,t.jsx)(Z.Z,{children:(0,t.jsxs)(g.ZP,{container:!0,children:[(0,t.jsxs)(g.ZP,{item:!0,xs:12,sm:7,lg:9,sx:{order:{sm:1,xs:2}},children:[(0,t.jsxs)(p.Z,{sx:{mb:2,display:"flex",alignItems:"center"},children:[(0,t.jsx)(l.Z,{variant:"body2",sx:{mr:2,fontWeight:600},children:"Vendedor:"}),(0,t.jsxs)(l.Z,{variant:"body2",children:[i.vendedor.codigo," - ",i.vendedor.nombre]})]}),(0,t.jsxs)(p.Z,{sx:{mb:2,display:"flex",alignItems:"center"},children:[(0,t.jsx)(l.Z,{variant:"body2",sx:{mr:2,fontWeight:600},children:"Status:"}),(0,t.jsx)(v.Z,{skin:"light",size:"small",label:E.zD[i.status]||"",color:E.qG[i.status],sx:{textTransform:"capitalize"}})]}),(0,t.jsxs)(p.Z,{sx:{mb:2,display:"flex",alignItems:"center"},children:[(0,t.jsx)(l.Z,{variant:"body2",sx:{mr:2,fontWeight:600},children:"Fecha entrega:"}),(0,t.jsx)(l.Z,{variant:"body2",children:(0,I.Z)(i.fechaEntrega)})]}),!!(null===(n=i.motivoRechazo)||void 0===n?void 0:n.motivo)&&(0,t.jsxs)(p.Z,{sx:{mb:2,display:"flex",alignItems:"center"},children:[(0,t.jsx)(l.Z,{variant:"body2",sx:{mr:2,fontWeight:600},children:"Rechazo:"}),(0,t.jsx)(l.Z,{variant:"body2",children:null===(r=i.motivoRechazo)||void 0===r?void 0:r.motivo})]})]}),(0,t.jsxs)(g.ZP,{item:!0,xs:12,sm:5,lg:3,sx:{mb:{sm:0,xs:4},order:{sm:2,xs:1}},children:[(0,t.jsxs)(C,{children:[(0,t.jsx)(l.Z,{variant:"body2",children:"Subtotal:"}),(0,t.jsx)(l.Z,{variant:"body2",sx:{fontWeight:600},children:(0,b.Z)(a-(s+o))})]}),(0,t.jsxs)(C,{children:[(0,t.jsx)(l.Z,{variant:"body2",children:"Descuento:"}),(0,t.jsx)(l.Z,{variant:"body2",sx:{fontWeight:600},children:(0,b.Z)(s)})]}),(0,t.jsxs)(C,{children:[(0,t.jsx)(l.Z,{variant:"body2",children:"Impuesto:"}),(0,t.jsx)(l.Z,{variant:"body2",sx:{fontWeight:600},children:(0,b.Z)(o)})]}),(0,t.jsx)(f.Z,{}),(0,t.jsxs)(C,{children:[(0,t.jsx)(l.Z,{variant:"body2",children:"Total:"}),(0,t.jsx)(l.Z,{variant:"body2",sx:{fontWeight:600},children:(0,b.Z)(a)})]})]})]})})},N=e=>{let[n,r]=(0,i.useState)(!1),c=()=>r(!0),h=()=>r(!1);return(0,t.jsxs)("div",{children:[(0,t.jsx)(P,{href:"#",onClick:c,children:e.title}),(0,t.jsxs)(a.Z,{onClose:h,"aria-labelledby":"customized-dialog-title",open:n,children:[(0,t.jsxs)(o.Z,{id:"customized-dialog-title",sx:{p:4},children:[(0,t.jsxs)(l.Z,{variant:"h6",component:"span",children:["Entrega: ",e.data.noDocEntrega]}),(0,t.jsx)(s.Z,{"aria-label":"close",onClick:h,sx:{top:10,right:10,position:"absolute",color:"grey.500"},children:(0,t.jsx)(x.Z,{icon:"mdi:close"})})]}),(0,t.jsx)(d.Z,{dividers:!0,sx:{p:4},children:(0,t.jsxs)(g.ZP,{container:!0,spacing:0,children:[(0,t.jsx)(D,{data:e.data}),(0,t.jsx)(g.ZP,{item:!0,xs:12,children:(0,t.jsx)(j.Z,{children:(0,t.jsx)(y._,{autoHeight:!0,rows:e.data.detalle,columns:W,pageSizeOptions:[10],disableRowSelectionOnClick:!0,getRowId:e=>e.posicionPartida})})})]})}),(0,t.jsx)(z,{data:e.data})]})]})};n.default=N},31704:function(e,n,r){let t=e=>{let n=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return n};n.Z=t},87819:function(e,n,r){var t=r(30381),i=r.n(t);let a=e=>{let n=navigator.language||navigator.userLanguage;i().locale(n);let r=i()(e).format("lll");return r};n.Z=a},51089:function(e,n,r){var t,i;r.d(n,{L1:function(){return t},qG:function(){return s},zD:function(){return a}}),(i=t||(t={}))[i.Pendiente=1]="Pendiente",i[i.Sincronizado=2]="Sincronizado",i[i.Recibido=3]="Recibido",i[i.Procesado=4]="Procesado",i[i.Integrado=5]="Integrado",i[i.Cancelado=6]="Cancelado",i[i.Error=7]="Error",i[i.Entregado=8]="Entregado",i[i.NoEntregado=9]="NoEntregado",i[i.EntDespues=10]="EntDespues",i[i.Integrado2=11]="Integrado2",i[i.Elaborando=12]="Elaborando",i[i.ERP=13]="ERP",i[i.Parcial=14]="Parcial";let a={[t.Pendiente]:"Pendiente",[t.Sincronizado]:"Sincronizado",[t.Recibido]:"Recibido",[t.Procesado]:"Procesado",[t.Integrado]:"Integrado",[t.Cancelado]:"Cancelado",[t.Error]:"Error",[t.Entregado]:"Entregado",[t.NoEntregado]:"No Entregado",[t.EntDespues]:"Ent.Despu\xe9s",[t.Integrado2]:"Integrado",[t.Elaborando]:"Elaborando",[t.ERP]:"ERP",[t.Parcial]:"Parcial"},s={1:"warning",13:"success",5:"success",11:"success",8:"success",4:"success",0:"warning",3:"primary",6:"secondary",9:"secondary",10:"secondary",14:"info",2:"info",7:"error"}}}]);